<!--Custom Map Objects: Sizeable Icon on Status Transparent Background Redirect-->
<style>
	body {font-family: Arial, Helvetica, sans-serif;}
	
	/* The Modal (background) */
	.modal {
		display: none; /* Hidden by default */
		position: fixed; /* Stay in place */
		z-index: 1; /* Sit on top */
		padding-top: 100px; /* Location of the box */
		left: 0;
		top: 0;
		width: 100%; /* Full width */
		height: 100%; /* Full height */
		overflow: auto; /* Enable scroll if needed */
		background-color: rgb(0,0,0); /* Fallback color */
		background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
	}
	
	/* Modal Content */
	.modal-content {
		background-color: #fefefe;
		margin: auto;
		padding: 20px;
		border: 1px solid #888;
		width: 80%;
	}
	
	/* The Close Button */
	.close {
		color: #aaaaaa;
		float: right;
		font-size: 28px;
		font-weight: bold;
	}
	
	.close:hover,
	.close:focus {
		color: #000;
		text-decoration: none;
		cursor: pointer;
	}
	</style>

<div  class="map_object map_icon2 map_icon_large <#sensor type="colorclassofstate" prefix="map_iconcolor_" id="<@objectid>">"  id="<@itemid>" objectid="<@objectid>" subid="<@subid>" style="<#mapobject type="coordinates" subid="<@subid>" mode="<@editmode>">">
  <#mapobject type="objectgrip" mode="<@editmode>">
  <#mapobject type="htmlbefore" subid="<@subid>">
  <#objectproperty type="nodename" id="<@objectid>" var="nodename">
  <#objectstatus name="lastvalue" id="<@objectid>" var="lastvalue">
  <#objectstatus name="message" show="textraw" id="<@objectid>" var="message">
	<#mapobject type="htmlafter" subid="<@subid>">
	







  
	<script src="https://unpkg.com/axios@0.18.0/dist/axios.min.js"></script>
	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script> -->
	<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"></script>


<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script> -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />
	
	
	 
	 
  <script>
    
  var 
	status ="<#objectstatus name="status"  id="<@objectid>">";

	
	if(status.includes("Down"))
		{
			document.getElementById("<@itemid>").style.opacity="0.6";
		}
	else
		{
			document.getElementById("<@itemid>").style.opacity="0.0";
		}
		
	function openpage() 
		{
			//alert("<@itemid>");
	
			//--SW - General Network MAP--//
	
		
			//--SW - General Network MAP--//
	


			if ("<@itemid>" == "mapelement_15349_7") showData("Info_Sima_F01-01",42);	

		}
		
	function showData(switchName,switchPort)
		{
			axios({url: 'http://172.16.17.195:5000/api/netNodes/prtg', method: 'post', data:{ switchName, switchPort }})
			.then(	result=>{
									console.log(result.data)
									var content="شماره نود: "+result.data.patchPanelPort+"</br>"
									// var modal = document.getElementById('myModal');
									//fill modal
									$("modalContent").append(`	
									<div id="myModal" class="modal rtl">
										<div id="modalContent" class="modal-content">
											<p> hiiiii </p>
											</div>
											</div>`)
											$("myModal").modal();
									// $("modalContent").append(content)

									// alert(JSON.stringify(result.data));
			}).catch( err=>{alert(err);})
		}

  var element = document.getElementById("<@itemid>");
  element.addEventListener("click", openpage, false);
  document.getElementById("<@itemid>").style.cursor = "pointer";	
  
  </script>
</div>


 
 